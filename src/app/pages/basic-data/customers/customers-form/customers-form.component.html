<mat-toolbar color="primary">
  <span class="example-fill-remaining-space"></span>
<span *ngIf="CustomerId==null">add customer </span>
<span *ngIf="CustomerId!=null">Edit client</span>

<span class="example-fill-remaining-space"></span>
</mat-toolbar>
<br/>

<form [formGroup]="service.customerForm" *ngIf="service.customerForm" autocomplete="off" (submit)="onSubmit()">


    <div class="row">
      <div class="col">
        <div class="form-group">
          <label>    Another phone number </label>
          <input type="text"   class="form-control" formControlName="CustomerPhone2" [class.is-invalid]="(submitted ||f.CustomerPhone2.touched)&& f.CustomerPhone2.errors">
      <div class="text-danger" *ngIf="(submitted ||f.CustomerPhone2.touched)&& f.CustomerPhone2.errors">

    <div *ngIf="f.CustomerPhone2.errors.minlength  || f.CustomerPhone2.errors.maxlength ">
      The phone number is greater than 5 digits and less than 13 digits
    </div>
      </div>
      </div>

      <!--
      <div class="form-check">

        <input type="checkbox" formControlName="IsPregnant"  style="width:20px;height:20px;margin: 0px; " class="form-check-input">
        &nbsp;&nbsp;&nbsp;&nbsp;
    يوجد حمل او رضاعه
      </div>
      -->


      <div class="form-group">
        <label>   Notes </label>
        <input type="text"   class="form-control" formControlName="Notes">
      </div>
      </div>

      <div class="col">
        <div class="form-group">
          <label>   Address </label>
          <input type="text" min="0" class="form-control" formControlName="CustomerAddress" >
      </div>

      <div class="form-group">
          <label>email  </label>
          <input type="text" class="form-control" formControlName="CustomerEmail" [class.is-invalid]="(submitted ||f.CustomerEmail.touched)&& f.CustomerEmail.errors">
      <div class="text-danger" *ngIf="(submitted ||f.CustomerEmail.touched)&& f.CustomerEmail.errors">

      <div *ngIf="f.CustomerEmail.errors.email">
        Please enter an appropriate email
      </div>
      </div>
      </div>



      </div>

      <div class="col">
        <div class="form-group">
            <label>Initial value  </label>
            <input type="number" class="form-control" formControlName="FirstPerioudBalance" [class.is-invalid]="(submitted ||f.FirstPerioudBalance.touched)&& f.FirstPerioudBalance.errors">
        <div class="text-danger" *ngIf="(submitted ||f.FirstPerioudBalance.touched)&& f.FirstPerioudBalance.errors">

          Please enter the starting value

        </div>
        </div>
    <!--
      <div style="padding-left: 100px;" class="form-check">

            <input type="checkbox" formControlName="AffiliateMember" (click)="onChangeCheck($event)" style="width:20px;height:20px;margin: 0px; " class="form-check-input">
            &nbsp;&nbsp;&nbsp;&nbsp;
     عضو تابع
          </div>

          <div class="form-group" *ngIf="IsValidCustomer">
            <label>اسم العميل التابع له</label>
            <ng-select formControlName="AffiliateMemberId"  [items]="(affiliateMemberList$|async)"
            bindLabel="CustomerName"
            bindValue="CustomerId"
            placeholder="من فضلك اختر اسم العميل التابع له"
          >
          </ng-select>
          <div class="text-danger" *ngIf="(submitted || f.AffiliateMemberId.touched) && f.AffiliateMemberId.errors">
            من فضلك ادخل اسم العميل التابع له
            </div>
        </div>


    -->



    </div>

    <div class="col">
      <div class="form-group">
        <label>  age   </label>
        <input type="number" min="1" max="150" class="form-control" formControlName="CustomerAge" [class.is-invalid]="(submitted ||f.CustomerAge.touched)&& f.CustomerAge.errors">
    <div class="text-danger" *ngIf="(submitted ||f.CustomerAge.touched)&& f.CustomerAge.errors">
  <div *ngIf="f.CustomerAge.errors.required">
    Please enter the age
  </div>
  <div *ngIf="f.CustomerAge.errors.min ">
    Age greater than or equal to one year
  </div>
    </div>
    </div>

      <div class="form-group">
          <label>  main phone number</label>
          <input type="text" class="form-control" formControlName="CustomerPhone1" [class.is-invalid]="(submitted ||f.CustomerPhone1.touched)&& f.CustomerPhone1.errors">
      <div class="text-danger" *ngIf="(submitted ||f.CustomerPhone1.touched)&& f.CustomerPhone1.errors">
   <div *ngIf="f.CustomerPhone1.errors.required">
    Please enter the phone number
   </div>
   <div *ngIf="f.CustomerPhone1.errors.minlength  || f.CustomerPhone1.errors.maxlength ">
    The phone number is greater than 5 digits and less than 13 digits
  </div>
      </div>
      </div>





    </div>





      <div class="col">


        <div class="form-group">
            <label>customer name</label>
            <input type="text" class="form-control" formControlName="CustomerName" [class.is-invalid]="(submitted ||f.CustomerName.touched)&& f.CustomerName.errors">
        <div class="text-danger" *ngIf="(submitted ||f.CustomerName.touched)&& f.CustomerName.errors">
          Please enter the customer's name
        </div>
        </div>

        <div class="form-group" style="padding-left: 70px;" >
            <input type="radio" style="height:25px; width:25px; vertical-align: middle;" formControlName="GenderId" [value]="1"> male
            <input type="radio" style="height:25px; width:25px; vertical-align: middle;" formControlName="GenderId" [value]="2">female
        </div>




    </div>








    </div>

    <mat-tab-group dir="ltr">
        <mat-tab label="chronic diseases" >



            <table class="table table-borderless">
                <thead class="thead-light">
                  <th dir="ltr">disease name</th>

                  <th>

                          <a  class="btn text-white btn-primary" (click)="addOrEdit(f.CustomerId.value,null,1)">
                                  <mat-icon aria-hidden="false" aria-label="icon">add</mat-icon>
                              </a>

                    </th>
                </thead>
                <tbody>
                  <tr *ngIf="service.DiseaseList.length==0" >
                    <td [class.text-danger]=" service.DiseaseList.length==0" colspan="2" class="text-center">
                      Please enter chronic diseases
                    </td>

                  </tr>
                  <tr *ngFor="let item of service.DiseaseList;let i=index;">
                    <td dir="ltr">{{item.CustomerDiseasesName}}</td>
              <td>

                <a class="btn btn-warning text-white" (click)="addOrEdit(f.CustomerId.value,i,1)">Edit</a>
                  &nbsp;&nbsp;
                  <a  class="btn btn-danger text-white" (click)="onDelete(item.CustomerDiseasesId,i,1)">Delete</a></td>
                  </tr>
                </tbody>
              </table>
        </mat-tab>
        <mat-tab label="current medication">
            <table class="table table-borderless">
                <thead class="thead-light">
                  <th>medicament name</th>

                  <th>

                          <a  class="btn text-white btn-primary" (click)="addOrEdit(f.CustomerId.value,null,2)">
                                  <mat-icon aria-hidden="false" aria-label="icon">add</mat-icon>
                              </a>

                    </th>
                </thead>
                <tbody>
                  <tr *ngIf="service.MedicineList.length==0" >
                    <td [class.text-danger]=" service.MedicineList.length==0" colspan="2" class="text-center">
                      Please enter your current medication
                    </td>

                  </tr>
                  <tr *ngFor="let item of service.MedicineList;let i=index;">
                    <td>{{item.CustomerDiseasesName}}</td>
              <td>

                <a class="btn btn-warning text-white" (click)="addOrEdit(f.CustomerId.value,i,2)">Edit</a>
                  &nbsp;&nbsp;
                  <a  class="btn btn-danger text-white" (click)="onDelete(item.CustomerDiseasesId,i,2)">Delete</a></td>
                  </tr>
                </tbody>
              </table>
        </mat-tab>
        <mat-tab label="history operations">

            <table class="table table-borderless">
                <thead class="thead-light">
                  <th>Operation name</th>

                  <th>

                          <a  class="btn text-white btn-primary" (click)="addOrEdit(f.CustomerId.value,null,3)">
                                  <mat-icon aria-hidden="false" aria-label="icon">add</mat-icon>
                              </a>

                    </th>
                </thead>
                <tbody>
                  <tr *ngIf="service.OperationList.length==0" >
                    <td [class.text-danger]=" service.OperationList.length==0" colspan="2" class="text-center">
                      Please enter the previous operations
                    </td>

                  </tr>
                  <tr *ngFor="let item of service.OperationList;let i=index;">
                    <td>{{item.CustomerDiseasesName}}</td>
              <td>

                <a class="btn btn-warning text-white" (click)="addOrEdit(f.CustomerId.value,i,3)">Edit</a>
                  &nbsp;&nbsp;
                  <a  class="btn btn-danger text-white" (click)="onDelete(item.CustomerDiseasesId,i,3)">Delete</a></td>
                  </tr>
                </tbody>
              </table>
        </mat-tab>
      </mat-tab-group>




    <div class="form-group">
        <input type="submit" class="btn btn-success " value="Submit">
    </div>

    </form>







